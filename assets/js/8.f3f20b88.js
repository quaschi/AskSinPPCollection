(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{231:function(e,r,n){e.exports=n.p+"assets/img/usbavp-jumper.7eb06634.jpg"},232:function(e,r,n){e.exports=n.p+"assets/img/usbasp-wiring.1e0d72d1.jpg"},233:function(e,r,n){e.exports=n.p+"assets/img/isp-6-pinout.3dc33651.png"},234:function(e,r,n){e.exports=n.p+"assets/img/usb-asp-jumperwire.6d058edf.jpg"},235:function(e,r,n){e.exports=n.p+"assets/img/usb-avr-pcb-mini.dec272c4.jpg"},278:function(e,r,n){"use strict";n.r(r);var t=n(20),a=Object(t.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"dauersender-babbling-idiot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dauersender-babbling-idiot","aria-hidden":"true"}},[e._v("#")]),e._v(" Dauersender / Babbling Idiot")]),e._v(" "),t("p",[e._v("Abschaltung oder Dauersender/-störer trotz fast voller Batterien")]),e._v(" "),t("p",[e._v("Um die garantierten Spezifikationen des ATMega328P einzuhalten, ist ab Werk die so genannte\n"),t("a",{attrs:{href:"https://www.mikrocontroller.net/articles/Brownout",target:"_blank",rel:"noopener noreferrer"}},[e._v("Brown-Out-Detection (BOD)"),t("OutboundLink")],1),e._v(" bei "),t("strong",[e._v("2.7V")]),e._v(" aktiviert.\nSinkt die Eingangsspannung unter diesen Wert, fällt der µC in einen RESET-Zustand.\nDas "),t("em",[e._v("kann")]),e._v(" ungewollte Nebenfolgen haben\n(siehe "),t("a",{attrs:{href:"https://github.com/TomMajor/AskSinPP_Examples/tree/master/Info/Babbling%20Idiot%20Protection",target:"_blank",rel:"noopener noreferrer"}},[e._v('"Babbling Idiot"'),t("OutboundLink")],1),e._v(")!\nWeiterhin werden die Batterien dadurch auch nur sehr ineffektiv genutzt.")]),e._v(" "),t("p",[e._v("Bei der BOD handelt es sich um ein sogenanntes "),t("a",{attrs:{href:"https://de.wikipedia.org/wiki/Fuse-Bit",target:"_blank",rel:"noopener noreferrer"}},[e._v('"Fuse-Bit"'),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("Fuse-Bits können nur mithilfe eines ISP (In-System-Programmer)\n(z.B. "),t("a",{attrs:{href:"https://www.ebay.de/i/232496093834",target:"_blank",rel:"noopener noreferrer"}},[e._v("USBASP"),t("OutboundLink")],1),e._v(" oder\n"),t("a",{attrs:{href:"https://www.diamex.de/dxshop/USB-ISP-Programmer-fuer-Atmel-AVR-Rev2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Diamex Programmer"),t("OutboundLink")],1),e._v(")\nverändert werden. Es lässt sich auch ein\n"),t("a",{attrs:{href:"https://www.arduino.cc/en/Tutorial/ArduinoISP",target:"_blank",rel:"noopener noreferrer"}},[e._v("Arduino UNO als ISP"),t("OutboundLink")],1),e._v(" verwenden!")]),e._v(" "),t("h2",{attrs:{id:"anschluss-des-isp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#anschluss-des-isp","aria-hidden":"true"}},[e._v("#")]),e._v(" Anschluss des ISP")]),e._v(" "),t("p",[e._v("USBasp kann sowohl 5V als auch 3.3V - ! jedoch nur am Vcc !, hier sollte zuerst der Jumper auf die richtige Spannung gesetzt werden.")]),e._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),t("p",[e._v("USBasp setzen per Jumper nur Vcc auf 3.3V, das SPI Interface läuft weiterhin mit 5V.\nEs empfiehlt sich daher die Fuse-Bits zu programmieren bevor weitere Hardware oder das CC1101 an den Arduino angeschlossen ist.")])]),e._v(" "),t("p",[t("img",{attrs:{src:n(231),alt:"usb-asp Spannung Jumper"}})]),e._v(" "),t("p",[e._v("Der ISP ist 1:1 mit 6 Leitungen an den Pro Mini zu verbinden:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Pro Mini")]),e._v(" "),t("th",[e._v("ISP")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("VCC")]),e._v(" "),t("td",[e._v("VCC")])]),e._v(" "),t("tr",[t("td",[e._v("GND")]),e._v(" "),t("td",[e._v("GND")])]),e._v(" "),t("tr",[t("td",[e._v("RESET")]),e._v(" "),t("td",[e._v("RESET")])]),e._v(" "),t("tr",[t("td",[e._v("11")]),e._v(" "),t("td",[e._v("MOSI")])]),e._v(" "),t("tr",[t("td",[e._v("12")]),e._v(" "),t("td",[e._v("MISO")])]),e._v(" "),t("tr",[t("td",[e._v("13")]),e._v(" "),t("td",[e._v("SCK")])])])]),e._v(" "),t("p",[t("img",{attrs:{src:n(232),alt:"usb-asp Verdrahtung"}})]),e._v(" "),t("p",[e._v("Es gibt auch ISPs mit nur 6 PINS:")]),e._v(" "),t("p",[t("img",{attrs:{src:n(233),alt:"isp 6-pin"}})]),e._v(" "),t("p",[t("img",{attrs:{src:n(234),alt:"usb-asp Jumperwire"}})]),e._v(" "),t("p",[e._v("Die "),t("a",{attrs:{href:"https://github.com/ronnythomas/HB-Mini",target:"_blank",rel:"noopener noreferrer"}},[e._v("HB-Mini"),t("OutboundLink")],1),e._v(" von Ronny eignet sich auch gut als Hilfsmittel.\nHier kann man den Arduino etwas verkantet "),t("em",[e._v("drauflegen")]),e._v(" für den Flashvorgang.")]),e._v(" "),t("p",[t("img",{attrs:{src:n(235),alt:"usb-avr-pcb-mini"}})]),e._v(" "),t("h2",{attrs:{id:"avrdude"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avrdude","aria-hidden":"true"}},[e._v("#")]),e._v(" avrdude")]),e._v(" "),t("p",[e._v("Das Setzen der Fuse-Bits erfolgt mit dem Tool "),t("code",[e._v("avrdude")]),e._v(".\nEs befindet sich bei installierter "),t("strong",[e._v("Arduino IDE")]),e._v(" und Boardunterstützung "),t("strong",[e._v("Arduino AVR Boards")])]),e._v(" "),t("ul",[t("li",[e._v("in Windows:\n"),t("ul",[t("li",[t("code",[e._v("C:\\Users\\<Benutzer>\\AppData\\Local\\Arduino15\\packages\\arduino\\tools\\avrdude\\6.3.0-arduino14\\bin\\")])])])]),e._v(" "),t("li",[e._v("auf dem Mac:\n"),t("ul",[t("li",[t("code",[e._v("~/Library/Arduino15/packages/arduino/tools/avrdude/6.3.0-arduino14/bin/")])])])]),e._v(" "),t("li",[e._v("bei Linux:\n"),t("ul",[t("li",[t("code",[e._v("~/.arduino15/packages/arduino/tools/avrdude/6.3.0-arduino14/bin/")])]),e._v(" "),t("li",[e._v("Alternativ gibt es das avrdude auch in den meisten Repos und kann als globale Binary installiert werden ("),t("code",[e._v("apt-get install avrdude")]),e._v(")")])])])]),e._v(" "),t("p",[t("em",[e._v("(Der Ordner "),t("code",[e._v("6.3.0-arduino14")]),e._v(" kann je nach Version abweichen.)")])]),e._v(" "),t("p",[e._v("Der Aufruf erfolgt dann bei Verwendung des USBasp in der Eingabeaufforderung/Kommandozeile mit:")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Pfadangabe"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("/avrdude -v -pm328p -cusbasp -Ulfuse:w:0xFF:m -Uhfuse:w:0xD2:m -Uefuse:w:0xFF:m\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[t("em",[e._v("(USBasp benötigt einen "),t("a",{attrs:{href:"http://zadig.akeo.ie",target:"_blank",rel:"noopener noreferrer"}},[e._v('speziellen USB-Treiber "libusb"'),t("OutboundLink")],1),e._v("!)")])]),e._v(" "),t("p",[e._v("Bei Verwendung eines Diamex oder Arduino UNO as ISP sieht der Aufruf so aus "),t("em",[e._v("(com11 ggf. ändern!)")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Pfadangabe"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("/avrdude -v -pm328p -P com11 -c stk500v1 -b 19200 -Ulfuse:w:0xFF:m -Uhfuse:w:0xD2:m -Uefuse:w:0xFF:m\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Siehe auch: "),t("a",{attrs:{href:"http://eecs.oregonstate.edu/education/docs/ece375/USBASP-UG.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("USBASP AVR Programmer User Guide"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Zum Schluss muss die Ausgabe kontrolliert werden. Folgende Zeilen erscheint zum Schluss der Ausgabe\nwenn alles erfolgreich war:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("avrdude: safemode: Fuses OK (E:FF, H:D02, L:FF)\n\navrdude done.   Thank you.\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("Falls nicht ist die Ausgabe auf Fehlermeldungen zu kontrollieren."),t("br"),e._v("\nDie Version "),t("code",[e._v("avrdude -v")]),e._v(" sollte mindestens 6.3 sein!")])])},[],!1,null,null,null);a.options.__file="babbling_idiot.md";r.default=a.exports}}]);