<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Software / Flashen | AskSinPPCollection</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/AskSinPPCollection/assets/css/0.styles.a5316589.css" as="style"><link rel="preload" href="/AskSinPPCollection/assets/js/app.ea23eea7.js" as="script"><link rel="preload" href="/AskSinPPCollection/assets/js/7.23bd6b50.js" as="script"><link rel="preload" href="/AskSinPPCollection/assets/js/1.9ebfa4ac.js" as="script"><link rel="preload" href="/AskSinPPCollection/assets/js/16.e583e6b4.js" as="script"><link rel="prefetch" href="/AskSinPPCollection/assets/js/10.6ce16e35.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/11.6bc2c7d1.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/12.268d1bc7.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/13.143e9ea9.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/14.884e86fa.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/15.19873cca.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/17.f865e425.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/18.30f0c074.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/19.f9794b22.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/20.c6fccdaf.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/21.66f4befa.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/22.22a6de91.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/23.4479fe19.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/24.cb6fa632.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/25.9c26bc2e.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/26.77097a83.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/27.2555b25e.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/28.be774590.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/29.dc3e3f47.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/3.21aa4705.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/30.f75d5a52.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/31.a62edf4d.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/32.fa6fa049.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/33.4ec830fb.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/34.9e65b006.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/35.f7a9a0a5.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/36.7b0e1123.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/37.ce5f2525.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/38.1e7cfd41.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/39.79c5a694.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/4.ed31ad69.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/40.f4e91f78.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/41.68ecde8b.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/42.99610bc6.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/43.e944ca1b.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/44.26b47517.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/5.dee1f630.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/6.46cc8ef5.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/8.f3f20b88.js"><link rel="prefetch" href="/AskSinPPCollection/assets/js/9.ce5cf1de.js">
    <link rel="stylesheet" href="/AskSinPPCollection/assets/css/0.styles.a5316589.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AskSinPPCollection/" class="home-link router-link-active"><img src="/AskSinPPCollection/logo.jpg" alt="AskSinPPCollection" class="logo"> <span class="site-name can-hide">AskSinPPCollection</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AskSinPPCollection/Grundlagen/" class="nav-link router-link-active">Grundlagen</a></div><div class="nav-item"><a href="/AskSinPPCollection/Projekte/" class="nav-link">Projekte</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Material</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Sketche/" class="nav-link">Sketche</a></li><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Platinen/" class="nav-link">Platinen</a></li><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Gehaeuse/" class="nav-link">Gehäuse</a></li><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Projekte/Umbau.html" class="nav-link">Umbauten</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=76" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNDgyNDM2OTkyMDA2LWY1YjY0NTE0NmY0OWM3YWUzMzAzMTgxYmRjMTMyOWE3NjkxNDdlMDY5ZjlhYzM5Nzg2N2U2YjdmNzNlYWNhNTU" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <div class="theme-toggler" data-v-62436dda><a data-v-62436dda><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon" data-v-62436dda><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-v-62436dda></path></svg></a></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/AskSinPPCollection/Grundlagen/" class="nav-link router-link-active">Grundlagen</a></div><div class="nav-item"><a href="/AskSinPPCollection/Projekte/" class="nav-link">Projekte</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Material</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Sketche/" class="nav-link">Sketche</a></li><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Platinen/" class="nav-link">Platinen</a></li><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Gehaeuse/" class="nav-link">Gehäuse</a></li><li class="dropdown-item"><!----> <a href="/AskSinPPCollection/Projekte/Umbau.html" class="nav-link">Umbauten</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=76" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNDgyNDM2OTkyMDA2LWY1YjY0NTE0NmY0OWM3YWUzMzAzMTgxYmRjMTMyOWE3NjkxNDdlMDY5ZjlhYzM5Nzg2N2U2YjdmNzNlYWNhNTU" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Grundlagen</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/AskSinPPCollection/Grundlagen/" class="sidebar-link">Einführung</a></li><li><a href="/AskSinPPCollection/Grundlagen/01_hardware.html" class="sidebar-link">Hardware</a></li><li><a href="/AskSinPPCollection/Grundlagen/02_software.html" class="active sidebar-link">Software / Flashen</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AskSinPPCollection/Grundlagen/02_software.html#arduino-ide" class="sidebar-link">Arduino IDE</a></li><li class="sidebar-sub-header"><a href="/AskSinPPCollection/Grundlagen/02_software.html#platformio" class="sidebar-link">PlatformIO</a></li><li class="sidebar-sub-header"><a href="/AskSinPPCollection/Grundlagen/02_software.html#anschluss-des-ftdi-adapters" class="sidebar-link">Anschluss des FTDI Adapters</a></li><li class="sidebar-sub-header"><a href="/AskSinPPCollection/Grundlagen/02_software.html#sketch-anpassen-und-flashen" class="sidebar-link">Sketch anpassen und flashen</a></li><li class="sidebar-sub-header"><a href="/AskSinPPCollection/Grundlagen/02_software.html#serieller-monitor" class="sidebar-link">Serieller Monitor</a></li></ul></li><li><a href="/AskSinPPCollection/Grundlagen/03_ccu.html" class="sidebar-link">Anlernen an die CCU</a></li><li><a href="/AskSinPPCollection/Grundlagen/04_weitere_infos.html" class="sidebar-link">Weitere Infos</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>FAQ</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/AskSinPPCollection/Grundlagen/FAQ/Debugging.html" class="sidebar-link">Debugging / Fehlersuche</a></li><li><a href="/AskSinPPCollection/Grundlagen/FAQ/Fehlerhafte_CC1101.html" class="sidebar-link">Fehlerhafte CC1101 Module</a></li><li><a href="/AskSinPPCollection/Grundlagen/FAQ/Standard_vs_gesicherte_Uebertragung.html" class="sidebar-link">Standard vs. gesicherte Übertragung</a></li><li><a href="/AskSinPPCollection/Grundlagen/FAQ/babbling_idiot.html" class="sidebar-link">Dauersender / Babbling Idiot</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Material</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/AskSinPPCollection/Projekte/" class="sidebar-link">Projekte</a></li><li><a href="/AskSinPPCollection/Sketche/" class="sidebar-link">Sketche</a></li><li><a href="/AskSinPPCollection/Platinen/" class="sidebar-link">Platinen</a></li><li><a href="/AskSinPPCollection/Gehaeuse/" class="sidebar-link">Gehäuse</a></li><li><a href="/AskSinPPCollection/Projekte/Umbau.html" class="sidebar-link">Umbauten</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="software-flashen"><a href="#software-flashen" aria-hidden="true" class="header-anchor">#</a> Software / Flashen</h1> <p>Die Software für den Microcontroller wird bei Arduino als <em>Sketch</em> bezeichnet.<br>
Der USB FTDI Adapter ist die Verbindung zwischen Microcontroller und PC.</p> <h2 id="arduino-ide"><a href="#arduino-ide" aria-hidden="true" class="header-anchor">#</a> Arduino IDE</h2> <p>Die <a href="https://www.arduino.cc/en/Main/Software" target="_blank" rel="noopener noreferrer">Arduino IDE<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ist die gebräuchlichste
PC Software für den Umgang mit dem Arduino.</p> <h3 id="bibliothek-einbinden"><a href="#bibliothek-einbinden" aria-hidden="true" class="header-anchor">#</a> Bibliothek einbinden</h3> <p>Damit die im Sketch verwendeten Bibliotheken zur Verfügung stehen, müssen diese eingebunden werden:</p> <ul><li>AskSinPP</li> <li>EnableInterrupt</li> <li>Low-Power</li></ul> <p>Die AskSinPP Bibliothek kann als <a href="https://github.com/pa-pa/AskSinPP/archive/V3.zip" target="_blank" rel="noopener noreferrer">ZIP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
heruntergeladen werden.
Anschließend geht man in der Arduino IDE auf <code>Sketch &gt; Bibliothek einbinden &gt; .ZIP-Bibliothek hinzufügen</code>
und wählt die ZIP-Datei aus.</p> <p>EnableInterrupt und Low-Power wird über <code>Sketch &gt; Bibliothek einbinden &gt; Bibliotheken verwalten</code>
gesucht und installiert.</p> <h3 id="board-einstellen"><a href="#board-einstellen" aria-hidden="true" class="header-anchor">#</a> Board einstellen</h3> <ul><li>Board: <code>Arduino Pro or Pro Mini</code></li> <li>Prozessor: <code>ATmega328P (3.3V, 8 MHz)</code></li> <li>Port: COM-Port des FTDI Adapters</li></ul> <h2 id="platformio"><a href="#platformio" aria-hidden="true" class="header-anchor">#</a> PlatformIO</h2> <p>PlatformIO gibt es als vollständige <a href="https://platformio.org/platformio-ide" target="_blank" rel="noopener noreferrer">Entwicklungsumgebung<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (IDE) und als <a href="https://platformio.org/install/cli" target="_blank" rel="noopener noreferrer">Command-Line-Interface<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (CLI).</p> <p>Die nötigen Bibliotheken können über den <a href="https://docs.platformio.org/en/latest/librarymanager/" target="_blank" rel="noopener noreferrer">Library Manager<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
bequem installiert werden. Er enthält neben den gebräuchlichen EnableInterrupt und Low-Power auch AskSinPP.</p> <p>Die Konfiguration des Boards kann über das Interface eingestellt werden und wird in der <code>platformio.ini</code> im
Projekt-Verzeichnis gespeichert. Diese Datei kann man sich also auch schnell selbst erstellen:</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token selector">[env:pro8MHzatmega328]</span>
<span class="token constant">platform</span> <span class="token attr-value"><span class="token punctuation">=</span> atmelavr</span>
<span class="token constant">framework</span> <span class="token attr-value"><span class="token punctuation">=</span> arduino</span>
<span class="token constant">board</span> <span class="token attr-value"><span class="token punctuation">=</span> pro8MHzatmega328</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="anschluss-des-ftdi-adapters"><a href="#anschluss-des-ftdi-adapters" aria-hidden="true" class="header-anchor">#</a> Anschluss des FTDI Adapters</h2> <p>Um die Schaltung sehr kompakt zu halten, verzichtet man auf das Anlöten eines Steckverbinders.
Es reicht aus, wenn man die Pins des FTDI Adapters durch die Lötbohrungen steckt und während des Flash-Vorgangs verkantet.</p> <p><img src="/AskSinPPCollection/assets/img/ftdi-verkantet.ba30dcc3.jpg" alt="FTP Adapter verkantet am Arduino Pro Mini"></p> <h2 id="sketch-anpassen-und-flashen"><a href="#sketch-anpassen-und-flashen" aria-hidden="true" class="header-anchor">#</a> Sketch anpassen und flashen</h2> <p>Es gibt mittlerweile viele fertige <a href="/AskSinPPCollection/Sketche/">Sketche</a> die je nach Aktor oder Sensor verwendet werden können.<br>
Als Beispiel wird hier der <code>HM-RC-P1</code> Paniktaster genommen.</p> <p>Der komplette Sketch ist <a href="https://github.com/pa-pa/AskSinPP/blob/master/examples/HM-RC-P1/HM-RC-P1.ino" target="_blank" rel="noopener noreferrer">HM-RC-P1.ino<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// Arduino pin for the config button</span>
<span class="token macro property">#<span class="token directive keyword">define</span> CONFIG_BUTTON_PIN 8</span>
<span class="token comment">// Arduino pins for the buttons</span>
<span class="token comment">// A0 == PIN 14</span>
<span class="token macro property">#<span class="token directive keyword">define</span> BTN1_PIN 14</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Hier sieht man die Button Belegung und kann diese entsprechend anpassen.<br>
Für das Beispiel des Paniktasters schließen wir also einen weiteren Taster an <code>A0</code> und <code>GND</code> an.</p> <p>Weiterhin ist der DeviceInfo Block wichtig:</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// define all device properties</span>
<span class="token keyword">const</span> <span class="token keyword">struct</span> DeviceInfo PROGMEM devinfo <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token number">0x12</span><span class="token punctuation">,</span><span class="token number">0x09</span><span class="token punctuation">,</span><span class="token number">0x01</span><span class="token punctuation">}</span><span class="token punctuation">,</span>       <span class="token comment">// Device ID</span>
    <span class="token string">&quot;JPLRCP2001&quot;</span><span class="token punctuation">,</span>           <span class="token comment">// Device Serial</span>
    <span class="token punctuation">{</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x1a</span><span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token comment">// Device Model</span>
    <span class="token number">0x11</span><span class="token punctuation">,</span>                   <span class="token comment">// Firmware Version</span>
    as<span class="token operator">::</span>DeviceType<span class="token operator">::</span>Remote<span class="token punctuation">,</span> <span class="token comment">// Device Type</span>
    <span class="token punctuation">{</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">}</span>             <span class="token comment">// Info Bytes</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>Jedes Gerät in einer HomeMatic Umgebung hat 2 eindeutige Identifikationsmerkmale:</p> <ul><li>die 10-stellige Seriennummer (wird in der WebUI in der Spalte Seriennummer in Einstellungen-&gt;Geräte angezeigt)</li> <li>die 3-Byte Geräteadresse (wird in einer Konfigurationsdatei im Dateisystem gespeichert)</li></ul> <p>Beide dürfen in einer HomeMatic-Installation nur <strong>1x vergeben</strong> werden.<br>
Ausschlaggebend für die Funk-Kommunikation ist die Geräte-Adresse.</p></div> <p>Die Geräteadresse (im Sketch als <code>Device ID</code> bezeichnet) lautet in diesem Fall <code>0x12,0x09,0x01</code>.<br>
Die Seriennummer (im Sketch als <code>Device Serial</code> bezeichnet) lautet in diesem Fall <code>JPLRCP2001</code>.</p> <p>Soll ein weiterer, auf diesen Sketch basierender HM-RC-P1 ins HomeMatic System integriert werden, verwendet man (- so mache ich es zumindest-) am besten eine fortlaufende Numerierung. 0x12, 0x09, 0x02 / JPLRCP2002.</p> <p>Wichtig: Die Seriennummer muss immer 10-stellig sein! Sie darf Buchstaben und Zahlen enthalten.</p> <p>Sind die Werte angepasst, kann der Programmcode kompiliert und an den Mikrocontroller
übertragen werden. In der Arduino IDE heißt dieser Vorgang <code>Sketch hochladen</code>
und bei PlatformIO <code>upload</code>.</p> <h2 id="serieller-monitor"><a href="#serieller-monitor" aria-hidden="true" class="header-anchor">#</a> Serieller Monitor</h2> <p>Der Arduino verfügt über eine Debug-Ausgabe die vom PC über den <code>seriellen Monitor</code>
abgerufen werden kann (Arduino IDE: Menü &gt; Werkzeuge &gt; serieller Monitor).
Aus dem Sketch kann man die verwendete Baudrate ablesen:</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">void</span> setup <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">DINIT</span><span class="token punctuation">(</span><span class="token number">57600</span><span class="token punctuation">,</span>ASKSIN_PLUS_PLUS_IDENTIFIER<span class="token punctuation">)</span><span class="token punctuation">;</span>
  sdev<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>hal<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Hier also <strong>57600 Baud</strong>. Diese muss beim Verbindungsaufbau übereinstimmen, damit man
nicht nur wirre Zeichen erhält. Weiteres zum <a href="/AskSinPPCollection/Grundlagen/FAQ/Debugging.html">Debugging</a> in den FAQ.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/jp112sdl/AskSinPPCollection/edit/master/Grundlagen/02_software.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Letztes Update: </span> <span class="time">12/19/2018, 8:00:47 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/AskSinPPCollection/Grundlagen/01_hardware.html" class="prev">
          Hardware
        </a></span> <span class="next"><a href="/AskSinPPCollection/Grundlagen/03_ccu.html">
          Anlernen an die CCU
        </a>
        →
      </span></p></div> <footer></footer></div></div><div class="global-ui"></div></div>
    <script src="/AskSinPPCollection/assets/js/app.ea23eea7.js" defer></script><script src="/AskSinPPCollection/assets/js/7.23bd6b50.js" defer></script><script src="/AskSinPPCollection/assets/js/1.9ebfa4ac.js" defer></script><script src="/AskSinPPCollection/assets/js/16.e583e6b4.js" defer></script>
  </body>
</html>
